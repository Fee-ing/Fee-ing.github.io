(function(t){function e(e){for(var s,n,r=e[0],l=e[1],c=e[2],p=0,v=[];p<r.length;p++)n=r[p],a[n]&&v.push(a[n][0]),a[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);u&&u(e);while(v.length)v.shift()();return o.push.apply(o,c||[]),i()}function i(){for(var t,e=0;e<o.length;e++){for(var i=o[e],s=!0,r=1;r<i.length;r++){var l=i[r];0!==a[l]&&(s=!1)}s&&(o.splice(e--,1),t=n(n.s=i[0]))}return t}var s={},a={app:0},o=[];function n(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=s,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/Fee-box/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;o.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"13a2":function(t,e,i){"use strict";var s=i("8471"),a=i.n(s);a.a},"1eb7":function(t,e,i){"use strict";var s=i("6347"),a=i.n(s);a.a},"2c8a":function(t,e,i){"use strict";var s=i("cf52"),a=i.n(s);a.a},"56d7":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("097d");var s=i("2b0e"),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{attrs:{id:"toast"}}),i("Header"),i("Box",{attrs:{leftRight:t.leftRight,upDown:t.upDown},on:{"to-movie":t.downOpt}},[i("template",{slot:"publish"},[i("Publish",{attrs:{leftRight:t.leftRight},on:{back:t.backOpt}})],1),i("template",{slot:"detail"},[i("Detail",{attrs:{leftRight:t.leftRight}})],1)],2),i("Footer",{attrs:{leftRight:t.leftRight,upDown:t.upDown},on:{"pre-opt":t.preOpt,"next-opt":t.nextOpt,"back-opt":t.backOpt,"home-opt":t.homeOpt}})],1)},o=[],n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},r=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header-wrapper"},[i("div",{staticClass:"form"},[i("input",{staticClass:"input",attrs:{type:"text",placeholder:"留言你想要看的电影（待更新）"}}),i("div",{staticClass:"btn"},[t._v("提交")])])])}],l={name:"Header"},c=l,u=(i("8ef2"),i("2877")),p=Object(u["a"])(c,n,r,!1,null,"d25a00d4",null);p.options.__file="Header.vue";var v=p.exports,m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"box-wrapper",style:{transform:"rotateX("+t.upDown+"deg) rotateY("+t.leftRight+"deg)"}},[i("div",{staticClass:"box box1"},t._l(t.movieData.list1,function(e,s){return i("Movie",{key:s,attrs:{movie:e},on:{"to-movie":t.toMovie}})})),i("div",{staticClass:"box box2"},t._l(t.movieData.list2,function(t,e){return i("Movie",{key:e})})),i("div",{staticClass:"box box3"},t._l(t.movieData.list3,function(t,e){return i("Movie",{key:e})})),i("div",{staticClass:"box box4"},t._l(t.movieData.list4,function(t,e){return i("Movie",{key:e})})),i("div",{staticClass:"box box5"},[t._t("publish")],2),i("div",{staticClass:"box box6"},[t._t("detail")],2)])},d=[],f=i("c93e"),h=(i("c5f6"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"movie-wrapper",attrs:{title:t.movie.title},on:{click:function(e){t.toMovie(t.movie)}}},[i("div",{staticClass:"poster",style:{backgroundImage:"url("+t.movie.poster+")"}}),i("div",{staticClass:"title"},[t._v(t._s(t.movie.title))]),i("div",{staticClass:"time"},[t._v("更新日期："+t._s(t.formatTime(t.movie.createdAt)))])])}),g=[];function b(t){var e=document.getElementById("toast")||null;if(e&&""===e.className){var i={duration:t.duration||2e3,title:t.title||""};e.innerHTML=i.title,e.className="show",setTimeout(function(){e.className="",e.innerHTML=""},i.duration)}}function _(t){var e,i,s,a,o,n,r,l,c,u,p,v,m=new Date(t),d=new Date;return e=parseInt(m.getFullYear()),i=parseInt(m.getMonth())+1,s=parseInt(m.getDate()),a=parseInt(m.getHours()),o=parseInt(m.getMinutes()),n=parseInt(m.getSeconds()),r=parseInt(d.getFullYear()),l=parseInt(d.getMonth())+1,c=parseInt(d.getDate()),u=parseInt(d.getHours()),p=parseInt(d.getMinutes()),v=parseInt(d.getSeconds()),r-e>1?r-e+"年前"+i+"月"+s+"号"+a+"点":r-e>0?"去年"+i+"月"+s+"号"+a+"点":l-i>0?"今年"+i+"月"+s+"号"+a+"点":c-s>1?c-s+"天前"+a+"点":c-s>0?"昨天"+a+"点":u-a>0?u-a+"小时前":p-o>0?p-o+"分钟前":v-n>0?v-n+"秒前":"刚刚"}var w={name:"Movie",props:{movie:{type:Object,default:function(){return{}}}},methods:{formatTime:_,toMovie:function(t){this.$emit("to-movie",t)}}},x=w,y=(i("13a2"),Object(u["a"])(x,h,g,!1,null,"116f1086",null));y.options.__file="Movie.vue";var k=y.exports,C=i("2f62"),D={name:"Box",components:{Movie:k},props:{leftRight:{type:Number,default:0},upDown:{type:Number,default:0}},computed:Object(C["d"])(["movieData"]),methods:Object(f["a"])({},Object(C["b"])(["getMovie"]),Object(C["c"])(["setThisMovie"]),{toMovie:function(t){this.setThisMovie(t),this.$emit("to-movie")}}),created:function(){this.getMovie()}},M=D,O=(i("f940"),Object(u["a"])(M,m,d,!1,null,"c9c9f122",null));O.options.__file="Box.vue";var $=O.exports,P=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"footer-wrapper"},[i("div",{staticClass:"btn big",on:{click:t.preOpt}},[t._v("上一页")]),90===t.upDown?i("div",{staticClass:"btn",on:{click:function(e){t.backOpt("2")}}},[t._v("返回")]):i("div",{staticClass:"btn",on:{click:function(e){t.backOpt("1")}}},[t._v(t._s(-90===t.upDown?"返回":"发布"))]),i("div",{staticClass:"btn",on:{click:t.homeOpt}},[t._v("首页")]),i("div",{staticClass:"btn big",on:{click:t.nextOpt}},[t._v("下一页")])])},j=[],R={name:"Footer",props:{leftRight:{type:Number,default:0},upDown:{type:Number,default:0}},methods:{preOpt:function(){0!==this.leftRight&&this.$emit("pre-opt")},nextOpt:function(){this.$emit("next-opt")},backOpt:function(t){this.$emit("back-opt",t)},homeOpt:function(){this.$emit("home-opt")}}},I=R,N=(i("2c8a"),Object(u["a"])(I,P,j,!1,null,"a88602a4",null));N.options.__file="Footer.vue";var T=N.exports,E=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"publish-wrapper",style:{transform:"rotateZ("+t.leftRight+"deg)"}},[i("div",{staticClass:"movie-title"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.movie.title,expression:"movie.title"}],staticClass:"title",attrs:{type:"text",placeholder:"电影名称（必填）"},domProps:{value:t.movie.title},on:{input:function(e){e.target.composing||t.$set(t.movie,"title",e.target.value)}}})]),i("div",{staticClass:"movie-info"},[i("div",{staticClass:"poster",style:{backgroundImage:"url("+t.movie.poster+")"}},[i("input",{staticClass:"poster-input",attrs:{type:"file",accept:"*.png,*.jpg,*.jpeg"},on:{change:function(e){return e.stopPropagation(),t.changePoster(e)}}}),""===t.movie.poster?i("span",{staticClass:"plus"},[t._v("+")]):t._e(),""===t.movie.poster?i("span",[t._v("添加海报")]):t._e()]),i("div",{staticClass:"info"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.movie.director,expression:"movie.director"}],staticClass:"info-item",attrs:{type:"text",placeholder:"导演（必填）"},domProps:{value:t.movie.director},on:{input:function(e){e.target.composing||t.$set(t.movie,"director",e.target.value)}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.movie.actor,expression:"movie.actor"}],staticClass:"info-item",attrs:{type:"text",placeholder:"主演（必填）"},domProps:{value:t.movie.actor},on:{input:function(e){e.target.composing||t.$set(t.movie,"actor",e.target.value)}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.movie.type,expression:"movie.type"}],staticClass:"info-item",attrs:{type:"text",placeholder:"类型（必填）"},domProps:{value:t.movie.type},on:{input:function(e){e.target.composing||t.$set(t.movie,"type",e.target.value)}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.movie.country,expression:"movie.country"}],staticClass:"info-item",attrs:{type:"text",placeholder:"制片国家/地区（必填）"},domProps:{value:t.movie.country},on:{input:function(e){e.target.composing||t.$set(t.movie,"country",e.target.value)}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.movie.duration,expression:"movie.duration"}],staticClass:"info-item",attrs:{type:"text",placeholder:"片长（必填）"},domProps:{value:t.movie.duration},on:{input:function(e){e.target.composing||t.$set(t.movie,"duration",e.target.value)}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.movie.showtime,expression:"movie.showtime"}],staticClass:"info-item",attrs:{type:"text",placeholder:"上映日期（必填）"},domProps:{value:t.movie.showtime},on:{input:function(e){e.target.composing||t.$set(t.movie,"showtime",e.target.value)}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.movie.score,expression:"movie.score"}],staticClass:"info-item",attrs:{type:"text",placeholder:"评分（必填）"},domProps:{value:t.movie.score},on:{input:function(e){e.target.composing||t.$set(t.movie,"score",e.target.value)}}})])]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.movie.desc,expression:"movie.desc"}],staticClass:"movie-desc",attrs:{cols:"30",rows:"4",placeholder:"简介（必填）"},domProps:{value:t.movie.desc},on:{input:function(e){e.target.composing||t.$set(t.movie,"desc",e.target.value)}}}),t._l(t.movie.download,function(e,s){return i("div",{key:s,staticClass:"movie-link"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.link,expression:"item.link"}],staticClass:"link",attrs:{type:"text",placeholder:"资源网站或链接（必填）"},domProps:{value:e.link},on:{input:function(i){i.target.composing||t.$set(e,"link",i.target.value)}}}),s>0?i("div",{staticClass:"btn",on:{click:function(e){t.delOpt(s)}}},[t._v("删除")]):t._e(),i("div",{staticClass:"btn",on:{click:t.addOpt}},[t._v("新添")])])}),i("div",{staticClass:"save-btn",on:{click:t.saveOpt}},[t._v("保存")])],2)},H=[],S=(i("b54a"),i("a481"),i("96cf"),i("3040")),A=i("6ca8"),X=i.n(A),B={name:"Publish",props:{leftRight:{type:Number,default:0}},data:function(){return{movie:{title:"",poster:"",director:"",actor:"",type:"",country:"",duration:"",showtime:"",score:"",desc:"",download:[{link:""}]}}},methods:Object(f["a"])({},Object(C["b"])(["addMovie"]),{initData:function(){this.movie={title:"",poster:"",director:"",actor:"",type:"",country:"",duration:"",showtime:"",score:"",desc:"",download:[{link:""}]}},changePoster:function(){var t=this;X()(event.currentTarget.files[0]).then(function(e){t.movie.poster=e.base64}).catch(function(){t.$toast("图片上传失败")})},delOpt:function(t){this.movie.download.splice(t,1)},addOpt:function(){this.movie.download.push({link:""})},saveOpt:function(){var t=Object(S["a"])(regeneratorRuntime.mark(function t(){var e,i,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(""!==this.movie.title.replace(/\s/gi,"")){t.next=3;break}return this.$toast({title:"请填写电影名称"}),t.abrupt("return");case 3:if(""!==this.movie.poster){t.next=6;break}return this.$toast({title:"请添加海报"}),t.abrupt("return");case 6:if(""!==this.movie.director.replace(/\s/gi,"")){t.next=9;break}return this.$toast({title:"请填写电影导演"}),t.abrupt("return");case 9:if(""!==this.movie.actor.replace(/\s/gi,"")){t.next=12;break}return this.$toast({title:"请填写电影主演"}),t.abrupt("return");case 12:if(""!==this.movie.type.replace(/\s/gi,"")){t.next=15;break}return this.$toast({title:"请填写电影类型"}),t.abrupt("return");case 15:if(""!==this.movie.country.replace(/\s/gi,"")){t.next=18;break}return this.$toast({title:"请填写电影制片国家/地区"}),t.abrupt("return");case 18:if(""!==this.movie.duration.replace(/\s/gi,"")){t.next=21;break}return this.$toast({title:"请填写电影片长"}),t.abrupt("return");case 21:if(""!==this.movie.showtime.replace(/\s/gi,"")){t.next=24;break}return this.$toast({title:"请填写电影上映时间"}),t.abrupt("return");case 24:if(""!==this.movie.score.replace(/\s/gi,"")){t.next=27;break}return this.$toast({title:"请填写电影评分"}),t.abrupt("return");case 27:if(""!==this.movie.desc.replace(/\s/gi,"")){t.next=30;break}return this.$toast({title:"请填写电影简介"}),t.abrupt("return");case 30:e=0;case 31:if(!(e<this.movie.download.length)){t.next=39;break}if(i=this.movie.download[e],""!==i.link.replace(/\s/gi,"")){t.next=36;break}return this.$toast({title:"请填写完整的资源网站或链接"}),t.abrupt("return");case 36:e++,t.next=31;break;case 39:return t.next=41,this.addMovie(this.movie);case 41:s=t.sent,s&&(this.$toast({title:"发布成功"}),this.initData(),this.$emit("back"));case 43:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()})},F=B,L=(i("1eb7"),Object(u["a"])(F,E,H,!1,null,null,null));L.options.__file="Publish.vue";var z=L.exports,K=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"publish-wrapper detail-wrapper",style:{transform:"rotateZ("+-t.leftRight+"deg)"}},[i("div",{staticClass:"movie-title"},[i("div",{staticClass:"title"},[t._v(t._s(t.thisMovie.title))])]),i("div",{staticClass:"movie-info"},[i("div",{staticClass:"poster",style:{backgroundImage:"url("+t.thisMovie.poster+")"}}),i("div",{staticClass:"info"},[i("div",{staticClass:"info-item",attrs:{title:"上映日期："+t.thisMovie.director}},[t._v("导演："+t._s(t.thisMovie.director))]),i("div",{staticClass:"info-item",attrs:{title:"上映日期："+t.thisMovie.actor}},[t._v("主演："+t._s(t.thisMovie.actor))]),i("div",{staticClass:"info-item",attrs:{title:"上映日期："+t.thisMovie.type}},[t._v("类型："+t._s(t.thisMovie.type))]),i("div",{staticClass:"info-item",attrs:{title:"上映日期："+t.thisMovie.country}},[t._v("制片国家/地区："+t._s(t.thisMovie.country))]),i("div",{staticClass:"info-item",attrs:{title:"上映日期："+t.thisMovie.duration}},[t._v("片长："+t._s(t.thisMovie.duration))]),i("div",{staticClass:"info-item",attrs:{title:"上映日期："+t.thisMovie.showtime}},[t._v("上映日期："+t._s(t.thisMovie.showtime))]),i("div",{staticClass:"info-item",attrs:{title:"上映日期："+t.thisMovie.score}},[t._v("评分："+t._s(t.thisMovie.score))])])]),i("div",{staticClass:"movie-desc"},[t._v(t._s(t.thisMovie.desc))]),i("div",{staticClass:"link-btn"},t._l(t.thisMovie.download,function(e,s){return i("a",{key:s,staticClass:"btn",attrs:{href:e.link,target:"_blank"}},[t._v("链接"+t._s(s+1))])}))])},U=[],J={name:"Detail",props:{leftRight:{type:Number,default:0}},computed:Object(C["d"])(["thisMovie"]),methods:{}},Y=J,q=(i("a7fe"),Object(u["a"])(Y,K,U,!1,null,"0aef25d2",null));q.options.__file="Detail.vue";var Z=q.exports,G={name:"app",components:{Header:v,Box:$,Footer:T,Publish:z,Detail:Z},data:function(){return{leftRight:0,upDown:0}},methods:{preOpt:function(){this.upDown=0,this.leftRight+=90},nextOpt:function(){this.upDown=0,this.leftRight-=90},backOpt:function(t){"1"===t?this.upDown=-90-this.upDown:"2"===t&&(this.upDown=0)},downOpt:function(){this.upDown=90-this.upDown},homeOpt:function(){this.leftRight=0,this.upDown=0}}},Q=G,V=(i("7c55"),Object(u["a"])(Q,a,o,!1,null,null,null));V.options.__file="App.vue";var W=V.exports,tt="https://api.leancloud.cn",et={baseAPI:tt,movieAPI:"".concat(tt,"/1.1/classes/movie")},it={appId:"QklUiCErP7xfkBMUV2ecI5Df-gzGzoHsz",appKey:"XXnTn83FoCjXAeIPKH1BPcTJ",masterKey:"zUl4I0O9bB8vuvu89c4TdaXl"},st=(i("6b54"),i("bc3a")),at=i.n(st),ot=i("6821f"),nt=i.n(ot),rt=(new Date).getTime(),lt=at.a.create({baseURL:et.baseAPI,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json","X-LC-Id":it.appId,"X-LC-Sign":"".concat(nt()(rt.toString()+it.appKey),",").concat(rt)},timeout:5e3}),ct={},ut=["get","post","put","delete"];ut.forEach(function(t){ct[t]=function(e,i,s){return new Promise(function(a,o){lt[t](e,i,s).then(function(t){t.status>=200&&t.status<300?a(t.data):(b({title:"请求错误"}),o(t))}).catch(function(t){b({title:t.response.data&&t.response.data.error||"请求错误"}),o(t)})})}});var pt=ct;s["a"].use(C["a"]);var vt=new C["a"].Store({state:{movieData:{all:{},list1:[],list2:[],list3:[],list4:[]},pageData:{page:"1",total:0},thisMovie:{}},mutations:{setMovieData:function(t,e){t.movieData.all[t.pageData.page]=e.results,t.pageData.total=e.count,e.results.length>12?(t.movieData.list4=e.results.slice(12,e.results.length),t.movieData.list3=e.results.slice(8,12),t.movieData.list2=e.results.slice(4,8),t.movieData.list1=e.results.slice(0,4)):e.results.length>8&&e.results.length<=12?(t.movieData.list4=[],t.movieData.list3=e.results.slice(8,e.results.length),t.movieData.list2=e.results.slice(4,8),t.movieData.list1=e.results.slice(0,4)):e.results.length>4&&e.results.length<=8?(t.movieData.list4=[],t.movieData.list3=[],t.movieData.list2=e.results.slice(4,e.results.length),t.movieData.list1=e.results.slice(0,4)):e.results.length>0&&e.results.length<=4?(t.movieData.list4=[],t.movieData.list3=[],t.movieData.list2=[],t.movieData.list1=e.results.slice(0,e.results.length)):(t.movieData.list4=[],t.movieData.list3=[],t.movieData.list2=[],t.movieData.list1=[])},setThisMovie:function(t,e){t.thisMovie=e}},actions:{getMovie:function(){var t=Object(S["a"])(regeneratorRuntime.mark(function t(e){var i,s,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return i=e.commit,t.prev=1,s={params:{order:"-createdAt",limit:16,skip:0,count:1}},t.next=5,pt.get(et.movieAPI,s);case 5:return a=t.sent,a&&a.results&&i("setMovieData",a),t.abrupt("return",!0);case 10:return t.prev=10,t.t0=t["catch"](1),t.abrupt("return",!1);case 13:case"end":return t.stop()}},t,this,[[1,10]])}));return function(e){return t.apply(this,arguments)}}(),addMovie:function(){var t=Object(S["a"])(regeneratorRuntime.mark(function t(e,i){var s,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s=e.dispatch,t.prev=1,t.next=4,pt.post(et.movieAPI,i);case 4:return a=t.sent,a&&s("getMovie"),t.abrupt("return",!0);case 9:return t.prev=9,t.t0=t["catch"](1),t.abrupt("return",!1);case 12:case"end":return t.stop()}},t,this,[[1,9]])}));return function(e,i){return t.apply(this,arguments)}}()}});s["a"].config.productionTip=!1,s["a"].prototype.$toast=b,new s["a"]({store:vt,render:function(t){return t(W)}}).$mount("#app")},6347:function(t,e,i){},"7a8b":function(t,e,i){},"7c55":function(t,e,i){"use strict";var s=i("d3dd"),a=i.n(s);a.a},8471:function(t,e,i){},"8ef2":function(t,e,i){"use strict";var s=i("7a8b"),a=i.n(s);a.a},a7fe:function(t,e,i){"use strict";var s=i("d885"),a=i.n(s);a.a},cf52:function(t,e,i){},d3dd:function(t,e,i){},d885:function(t,e,i){},d954:function(t,e,i){},f940:function(t,e,i){"use strict";var s=i("d954"),a=i.n(s);a.a}});
//# sourceMappingURL=app.07644cc0.js.map