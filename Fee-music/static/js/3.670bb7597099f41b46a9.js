webpackJsonp([3],{"+2s4":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("query",{on:{search:t.search,addAdmin:t.addAdmin}}),t._v(" "),n("div",{staticClass:"pagination-container"},[n("pagination",{attrs:{totalPage:t.totals},on:{pageChange:t.pageChange}})],1),t._v(" "),n("div",{staticClass:"main-container"},[n("el-table",{ref:"multipleTable",attrs:{data:t.listData,"tooltip-effect":"dark",stripe:"",height:"100%","highlight-current-row":""}},[t._l(t.listFormatter,function(t,e){return n("el-table-column",{key:e,attrs:{prop:t.prop,label:t.label,formatter:t.formatter,align:"center"}})}),t._v(" "),n("el-table-column",{attrs:{align:"center",width:"100",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{staticClass:"danger-color",attrs:{type:"text",size:"small"},on:{click:function(n){t.deleteAdmin(e.row.id)}}},[t._v("删除")]),t._v(" "),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){t.editAdmin(e.row.id)}}},[t._v("编辑")])]}}])})],2)],1),t._v(" "),n("el-dialog",{attrs:{title:"添加管理员",visible:t.dialogFormVisible1,center:"",width:"400px"},on:{"update:visible":function(e){t.dialogFormVisible1=e},close:t.cancelAdmin}},[n("div",{staticClass:"form-wrapper"},[n("el-form",{ref:"form1",staticClass:"form",attrs:{size:"small",model:t.form,"label-width":"60px"}},[n("el-form-item",{staticClass:"form-item",attrs:{label:"账号"}},[n("el-input",{attrs:{type:"tel"},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1),t._v(" "),n("el-form-item",{staticClass:"form-item",attrs:{label:"密码"}},[n("el-input",{attrs:{type:"password"},model:{value:t.form.passwd,callback:function(e){t.$set(t.form,"passwd",e)},expression:"form.passwd"}})],1)],1)],1),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"small"},on:{click:t.cancelAdmin}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary",size:"small",loading:t.pending},on:{click:t.submitAdmin}},[t._v("提 交")])],1)]),t._v(" "),n("el-dialog",{attrs:{title:"修改密码",visible:t.dialogFormVisible2,center:"",width:"400px"},on:{"update:visible":function(e){t.dialogFormVisible2=e},close:t.cancelPass}},[n("div",{staticClass:"form-wrapper"},[n("el-form",{ref:"form2",staticClass:"form",attrs:{size:"small",model:t.passForm,"label-width":"60px"}},[n("el-form-item",{staticClass:"form-item",attrs:{label:"旧密码"}},[n("el-input",{attrs:{type:"password"},model:{value:t.passForm.old_passwd,callback:function(e){t.$set(t.passForm,"old_passwd",e)},expression:"passForm.old_passwd"}})],1),t._v(" "),n("el-form-item",{staticClass:"form-item",attrs:{label:"新密码"}},[n("el-input",{attrs:{type:"password"},model:{value:t.passForm.new_passwd,callback:function(e){t.$set(t.passForm,"new_passwd",e)},expression:"passForm.new_passwd"}})],1)],1)],1),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"small"},on:{click:t.cancelPass}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary",size:"small",loading:t.pending},on:{click:t.submitPass}},[t._v("提 交")])],1)])],1)},s=[],r={render:a,staticRenderFns:s};e.a=r},"0WND":function(t,e,n){e=t.exports=n("FZ+f")(!0),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"index.vue",sourceRoot:""}])},"2qXN":function(t,e){var n={utf8:{stringToBytes:function(t){return n.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(n.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}};t.exports=n},"6WvH":function(t,e,n){"use strict";e.a={pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,n=new Date;n.setTime(n.getTime()-6048e5),t.$emit("pick",[n,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,n=new Date;n.setTime(n.getTime()-2592e6),t.$emit("pick",[n,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,n=new Date;n.setTime(n.getTime()-7776e6),t.$emit("pick",[n,e])}}]},questionStatus:[{value:"0",label:"全部"},{value:"1",label:"上架中"},{value:"2",label:"下架中"}],incomeStatus:[{value:"0",label:"全部"},{value:"1",label:"充值"},{value:"2",label:"提现"},{value:"3",label:"答题成功奖励"},{value:"4",label:"退款到余额"}],complainStatus:[{value:"0",label:"全部"},{value:"1",label:"诱导分享"},{value:"2",label:"欺诈"}],answerStatus:[{value:"0",label:"全部"},{value:"1",label:"进行中"},{value:"2",label:"已完成"},{value:"2",label:"已关闭"}]}},"9cEB":function(t,e,n){"use strict";var a=n("6WvH");e.a={data:function(){return{params:{phone:""},pickerOptions:a.a.pickerOptions}},methods:{search:function(){this.$emit("search",this.params)},reset:function(){this.params={phone:""},this.search()},addAdmin:function(){this.$emit("addAdmin")}}}},BYdl:function(t,e,n){"use strict";var a=n("CwAM"),s=n("mB4h"),r=n("VU/8"),i=r(a.a,s.a,!1,null,null,null);e.a=i.exports},CwAM:function(t,e,n){"use strict";e.a={props:{totalPage:{default:1,type:Number}},data:function(){return{timer:null}},methods:{handleCurrentChange:function(t){var e=this;if(this.$route.query.p==t)return!1;this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){clearTimeout(e.timer),e.$emit("pageChange",t)},500)}}}},L6bb:function(t,e,n){!function(){var e=n("bTs5"),a=n("2qXN").utf8,s=n("Re3r"),r=n("2qXN").bin,i=function(t,n){t.constructor==String?t=n&&"binary"===n.encoding?r.stringToBytes(t):a.stringToBytes(t):s(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||(t=t.toString());for(var o=e.bytesToWords(t),l=8*t.length,c=1732584193,u=-271733879,p=-1732584194,m=271733878,d=0;d<o.length;d++)o[d]=16711935&(o[d]<<8|o[d]>>>24)|4278255360&(o[d]<<24|o[d]>>>8);o[l>>>5]|=128<<l%32,o[14+(l+64>>>9<<4)]=l;for(var f=i._ff,h=i._gg,v=i._hh,g=i._ii,d=0;d<o.length;d+=16){var b=c,y=u,w=p,_=m;c=f(c,u,p,m,o[d+0],7,-680876936),m=f(m,c,u,p,o[d+1],12,-389564586),p=f(p,m,c,u,o[d+2],17,606105819),u=f(u,p,m,c,o[d+3],22,-1044525330),c=f(c,u,p,m,o[d+4],7,-176418897),m=f(m,c,u,p,o[d+5],12,1200080426),p=f(p,m,c,u,o[d+6],17,-1473231341),u=f(u,p,m,c,o[d+7],22,-45705983),c=f(c,u,p,m,o[d+8],7,1770035416),m=f(m,c,u,p,o[d+9],12,-1958414417),p=f(p,m,c,u,o[d+10],17,-42063),u=f(u,p,m,c,o[d+11],22,-1990404162),c=f(c,u,p,m,o[d+12],7,1804603682),m=f(m,c,u,p,o[d+13],12,-40341101),p=f(p,m,c,u,o[d+14],17,-1502002290),u=f(u,p,m,c,o[d+15],22,1236535329),c=h(c,u,p,m,o[d+1],5,-165796510),m=h(m,c,u,p,o[d+6],9,-1069501632),p=h(p,m,c,u,o[d+11],14,643717713),u=h(u,p,m,c,o[d+0],20,-373897302),c=h(c,u,p,m,o[d+5],5,-701558691),m=h(m,c,u,p,o[d+10],9,38016083),p=h(p,m,c,u,o[d+15],14,-660478335),u=h(u,p,m,c,o[d+4],20,-405537848),c=h(c,u,p,m,o[d+9],5,568446438),m=h(m,c,u,p,o[d+14],9,-1019803690),p=h(p,m,c,u,o[d+3],14,-187363961),u=h(u,p,m,c,o[d+8],20,1163531501),c=h(c,u,p,m,o[d+13],5,-1444681467),m=h(m,c,u,p,o[d+2],9,-51403784),p=h(p,m,c,u,o[d+7],14,1735328473),u=h(u,p,m,c,o[d+12],20,-1926607734),c=v(c,u,p,m,o[d+5],4,-378558),m=v(m,c,u,p,o[d+8],11,-2022574463),p=v(p,m,c,u,o[d+11],16,1839030562),u=v(u,p,m,c,o[d+14],23,-35309556),c=v(c,u,p,m,o[d+1],4,-1530992060),m=v(m,c,u,p,o[d+4],11,1272893353),p=v(p,m,c,u,o[d+7],16,-155497632),u=v(u,p,m,c,o[d+10],23,-1094730640),c=v(c,u,p,m,o[d+13],4,681279174),m=v(m,c,u,p,o[d+0],11,-358537222),p=v(p,m,c,u,o[d+3],16,-722521979),u=v(u,p,m,c,o[d+6],23,76029189),c=v(c,u,p,m,o[d+9],4,-640364487),m=v(m,c,u,p,o[d+12],11,-421815835),p=v(p,m,c,u,o[d+15],16,530742520),u=v(u,p,m,c,o[d+2],23,-995338651),c=g(c,u,p,m,o[d+0],6,-198630844),m=g(m,c,u,p,o[d+7],10,1126891415),p=g(p,m,c,u,o[d+14],15,-1416354905),u=g(u,p,m,c,o[d+5],21,-57434055),c=g(c,u,p,m,o[d+12],6,1700485571),m=g(m,c,u,p,o[d+3],10,-1894986606),p=g(p,m,c,u,o[d+10],15,-1051523),u=g(u,p,m,c,o[d+1],21,-2054922799),c=g(c,u,p,m,o[d+8],6,1873313359),m=g(m,c,u,p,o[d+15],10,-30611744),p=g(p,m,c,u,o[d+6],15,-1560198380),u=g(u,p,m,c,o[d+13],21,1309151649),c=g(c,u,p,m,o[d+4],6,-145523070),m=g(m,c,u,p,o[d+11],10,-1120210379),p=g(p,m,c,u,o[d+2],15,718787259),u=g(u,p,m,c,o[d+9],21,-343485551),c=c+b>>>0,u=u+y>>>0,p=p+w>>>0,m=m+_>>>0}return e.endian([c,u,p,m])};i._ff=function(t,e,n,a,s,r,i){var o=t+(e&n|~e&a)+(s>>>0)+i;return(o<<r|o>>>32-r)+e},i._gg=function(t,e,n,a,s,r,i){var o=t+(e&a|n&~a)+(s>>>0)+i;return(o<<r|o>>>32-r)+e},i._hh=function(t,e,n,a,s,r,i){var o=t+(e^n^a)+(s>>>0)+i;return(o<<r|o>>>32-r)+e},i._ii=function(t,e,n,a,s,r,i){var o=t+(n^(e|~a))+(s>>>0)+i;return(o<<r|o>>>32-r)+e},i._blocksize=16,i._digestsize=16,t.exports=function(t,n){if(void 0===t||null===t)throw new Error("Illegal argument "+t);var a=e.wordsToBytes(i(t,n));return n&&n.asBytes?a:n&&n.asString?r.bytesToString(a):e.bytesToHex(a)}}()},LWPS:function(t,e,n){var a=n("0WND");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("rjj0")("2c9381b3",a,!0)},"O/FC":function(t,e,n){"use strict";function a(t){n("kzn4")}var s=n("9cEB"),r=n("oYMj"),i=n("VU/8"),o=a,l=i(s.a,r.a,!1,o,"data-v-28e9c3f2",null);e.a=l.exports},PSxa:function(t,e,n){"use strict";var a=n("E6Sy");e.a=[{prop:"phone",label:"账号"},{prop:"regist_time",label:"注册时间",formatter:function(t,e,n){return a.a.dateFormat(1e3*parseInt(n),"yyyy-MM-dd hh:mm:ss")}},{prop:"token_expire",label:"过期时间",formatter:function(t,e,n){return a.a.dateFormat(1e3*parseInt(n),"yyyy-MM-dd hh:mm:ss")}},{prop:"modified_time",label:"最近登录",formatter:function(t,e,n){return a.a.dateFormat(1e3*parseInt(n),"yyyy-MM-dd hh:mm:ss")}}]},bTs5:function(t,e){!function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,a=0;n<t.length;n++,a+=8)e[a>>>5]|=t[n]<<24-a%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var n=[],a=0;a<t.length;a+=3)for(var s=t[a]<<16|t[a+1]<<8|t[a+2],r=0;r<4;r++)8*a+6*r<=8*t.length?n.push(e.charAt(s>>>6*(3-r)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],a=0,s=0;a<t.length;s=++a%4)0!=s&&n.push((e.indexOf(t.charAt(a-1))&Math.pow(2,-2*s+8)-1)<<2*s|e.indexOf(t.charAt(a))>>>6-2*s);return n}};t.exports=n}()},cxve:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"d",function(){return l});var a=n("NYxO"),s=Object(a.a)("admin"),r=s.mapActions,i=s.mapGetters,o=s.mapMutations,l=s.mapState},dAA2:function(t,e,n){"use strict";var a=n("mvHQ"),s=n.n(a),r=n("Xxa5"),i=n.n(r),o=n("woOf"),l=n.n(o),c=n("exGp"),u=n.n(c),p=n("Dd8w"),m=n.n(p),d=n("L6bb"),f=n.n(d),h=n("O/FC"),v=n("BYdl"),g=n("PSxa"),b=n("cxve");e.a={data:function(){return{pending:!1,totals:1,listData:[],listFormatter:g.a,dialogFormVisible1:!1,dialogFormVisible2:!1,params:null,form:{phone:"",passwd:""},passForm:{old_passwd:"",new_passwd:""}}},computed:m()({},Object(b.d)({})),beforeRouteEnter:function(t,e,n){n(function(e){e.listRender({page:t.query.p||1})})},beforeRouteUpdate:function(t,e,n){this.listRender({page:t.query.p}),n()},methods:m()({},Object(b.a)(["adminList","adminCreate","adminEdit","adminDelete"]),{listRender:function(t){var e=this;return u()(i.a.mark(function n(){var a;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.adminList(l()({},t,e.params));case 2:a=n.sent,e.listData=a.data,e.totals=a.paging?+a.paging.total:1;case 5:case"end":return n.stop()}},n,e)}))()},pageChange:function(t){this.$router.push({name:"adminList",query:{p:t}})},search:function(t){this.params=t,this.$router.push({name:"adminList",query:{p:1,t:(new Date).getTime()}})},addAdmin:function(){this.dialogFormVisible1=!0},editAdmin:function(t){this.passForm.id=t,this.dialogFormVisible2=!0},deleteAdmin:function(t){var e=this;this.$confirm("确认删除？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.adminDelete({id:t}).then(function(){e.listRender({page:e.$route.query.p}),e.$message({type:"success",message:"删除成功"})})}).catch(function(){})},cancelAdmin:function(){this.form={phone:"",passwd:""},this.dialogFormVisible1=!1},cancelPass:function(){this.passForm={old_passwd:"",new_passwd:""},this.dialogFormVisible2=!1},submitAdmin:function(){var t=this;if(!this.form.phone)return void this.$message({message:"请填写账号",type:"warning"});if(!this.form.passwd)return void this.$message({message:"请填写密码",type:"warning"});var e=JSON.parse(s()(this.form));e.passwd=f()(e.passwd),this.adminCreate(e).then(function(){t.listRender({page:t.$route.query.p}),t.cancelAdmin(),t.$message({message:"添加成功",type:"success"})})},submitPass:function(){var t=this,e=JSON.parse(s()(this.passForm));e.old_passwd=f()(e.old_passwd),e.new_passwd=f()(e.new_passwd),this.adminEdit(e).then(function(){t.listRender({page:t.$route.query.p}),t.cancelPass(),t.$message({message:"修改成功",type:"success"})})}}),components:{query:h.a,pagination:v.a}}},ewJ6:function(t,e,n){"use strict";function a(t){n("LWPS")}Object.defineProperty(e,"__esModule",{value:!0});var s=n("dAA2"),r=n("+2s4"),i=n("VU/8"),o=a,l=i(s.a,r.a,!1,o,"data-v-10a5cc62",null);e.default=l.exports},kzn4:function(t,e,n){var a=n("m4fr");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("rjj0")("029e1584",a,!0)},m4fr:function(t,e,n){e=t.exports=n("FZ+f")(!0),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"query.vue",sourceRoot:""}])},mB4h:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pagination"},[n("el-pagination",{attrs:{layout:"total, prev, pager, next, jumper","current-page":parseInt(t.$route.query.p)||1,"page-size":20,total:t.totalPage},on:{"current-change":t.handleCurrentChange}})],1)},s=[],r={render:a,staticRenderFns:s};e.a=r},oYMj:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"topbar"},[n("div",{staticClass:"topbar-form"},[n("el-input",{staticStyle:{width:"200px"},attrs:{size:"small"},model:{value:t.params.phone,callback:function(e){t.$set(t.params,"phone",e)},expression:"params.phone"}},[n("template",{slot:"prepend"},[t._v("账号")])],2)],1),t._v(" "),n("div",{staticClass:"topbar-form"},[n("el-button",{attrs:{type:"info",icon:"el-icon-refresh",size:"small"},on:{click:t.reset}},[t._v("重置")]),t._v(" "),n("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"small"},on:{click:t.search}},[t._v("搜索")])],1),t._v(" "),n("div",{staticClass:"form-btns flex1"},[n("div",{staticClass:"topbar-form"},[n("el-button",{attrs:{type:"danger",icon:"el-icon-plus",size:"small"},on:{click:t.addAdmin}},[t._v("添加管理员")])],1)])])},s=[],r={render:a,staticRenderFns:s};e.a=r}});