webpackJsonp([4],{"/10s":function(t,e,a){"use strict";function s(t){a("sbmd")}Object.defineProperty(e,"__esModule",{value:!0});var i=a("q5LW"),n=a("P5tp"),r=a("VU/8"),l=s,o=r(i.a,n.a,!1,l,"data-v-324aadd0",null);e.default=o.exports},"6WvH":function(t,e,a){"use strict";e.a={pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.$emit("pick",[a,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-7776e6),t.$emit("pick",[a,e])}}]},questionStatus:[{value:"0",label:"全部"},{value:"1",label:"上架中"},{value:"2",label:"下架中"}],incomeStatus:[{value:"0",label:"全部"},{value:"1",label:"充值"},{value:"2",label:"提现"},{value:"3",label:"答题成功奖励"},{value:"4",label:"退款到余额"}],complainStatus:[{value:"0",label:"全部"},{value:"1",label:"诱导分享"},{value:"2",label:"欺诈"}],answerStatus:[{value:"0",label:"全部"},{value:"1",label:"进行中"},{value:"2",label:"已完成"},{value:"2",label:"已关闭"}]}},BYdl:function(t,e,a){"use strict";var s=a("CwAM"),i=a("mB4h"),n=a("VU/8"),r=n(s.a,i.a,!1,null,null,null);e.a=r.exports},CwAM:function(t,e,a){"use strict";e.a={props:{totalPage:{default:1,type:Number}},data:function(){return{timer:null}},methods:{handleCurrentChange:function(t){var e=this;if(this.$route.query.p==t)return!1;this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){clearTimeout(e.timer),e.$emit("pageChange",t)},500)}}}},DPWj:function(t,e,a){"use strict";function s(t){a("k6x5")}var i=a("ahTz"),n=a("WQMz"),r=a("VU/8"),l=s,o=r(i.a,n.a,!1,l,"data-v-002b94fb",null);e.a=o.exports},P5tp:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("query",{on:{search:t.search,addSetting:t.addSetting,addQuestion:t.addQuestion}}),t._v(" "),a("div",{staticClass:"pagination-container"},[a("pagination",{attrs:{totalPage:t.totals},on:{pageChange:t.pageChange}})],1),t._v(" "),a("div",{staticClass:"main-container"},[a("el-table",{ref:"multipleTable",attrs:{data:t.listData,"tooltip-effect":"dark",stripe:"",height:"100%","highlight-current-row":""}},[a("el-table-column",{attrs:{type:"index",index:t.indexMethod1,width:"100",align:"center",label:"名称"}}),t._v(" "),t._l(t.listFormatter,function(t,e){return a("el-table-column",{key:e,attrs:{prop:t.prop,label:t.label,formatter:t.formatter,align:"center"}})}),t._v(" "),a("el-table-column",{attrs:{align:"center",width:"120",prop:"current_status",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"===e.row.current_status?a("span",{staticClass:"success-color"},[t._v("上架中")]):t._e(),t._v(" "),"2"===e.row.current_status?a("span",{staticClass:"info-color"},[t._v("下架中")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",width:"150",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.questionStatusOpt(e.row.id,e.row.current_status)}}},[t._v(t._s("1"===e.row.current_status?"下架":"上架"))]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.questionEditOpt(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.viewQuestion(e.row.id,e.$index)}}},[t._v("查看")])]}}])})],2)],1),t._v(" "),a("el-dialog",{attrs:{title:"设置描述",visible:t.dialogFormVisible1,center:"",width:"560px"},on:{"update:visible":function(e){t.dialogFormVisible1=e},close:t.cancelSetting}},[a("el-table",{attrs:{size:"mini",data:t.tableData}},[a("el-table-column",{attrs:{align:"center",prop:"num",label:"答题情况",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\r\n                    答对"+t._s(e.row.num)+"题\r\n                ")]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"desc",label:"描述",width:"350"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{size:"small"},model:{value:e.row.desc,callback:function(a){t.$set(e.row,"desc",a)},expression:"scope.row.desc"}})]}}])})],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:t.cancelSetting}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small",loading:t.pending},on:{click:t.submitQuestionDesc}},[t._v("提 交")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"编辑题目",visible:t.dialogFormVisible2,center:"",width:"350px"},on:{"update:visible":function(e){t.dialogFormVisible2=e},close:t.cancelQuestion}},[a("div",{staticClass:"form-wrapper"},[a("el-form",{staticClass:"form",attrs:{size:"small",model:t.form,"label-width":"60px"}},[a("el-form-item",{staticClass:"form-item",attrs:{label:"标签"}},[a("el-input",{model:{value:t.form.label,callback:function(e){t.$set(t.form,"label",e)},expression:"form.label"}})],1),t._v(" "),a("el-form-item",{staticClass:"form-item",attrs:{label:"权重"}},[a("el-input",{model:{value:t.form.weight,callback:function(e){t.$set(t.form,"weight",e)},expression:"form.weight"}})],1),t._v(" "),a("el-form-item",{staticClass:"form-item",attrs:{label:"排序"}},[a("el-input",{model:{value:t.form.sort,callback:function(e){t.$set(t.form,"sort",e)},expression:"form.sort"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:t.cancelQuestion}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small",loading:t.pending},on:{click:t.submitQuestionEdit}},[t._v("提 交")])],1)]),t._v(" "),a("el-dialog",{attrs:{title:"添加题目",visible:t.dialogFormVisible3,center:"",width:"350px"},on:{"update:visible":function(e){t.dialogFormVisible3=e},close:t.cancelCreate}},[a("div",{staticClass:"form-wrapper"},[a("el-form",{staticClass:"form",attrs:{size:"small",model:t.form,"label-width":"60px"}},[a("el-form-item",{staticClass:"form-item",attrs:{label:"标签"}},[a("el-input",{model:{value:t.createForm.label,callback:function(e){t.$set(t.createForm,"label",e)},expression:"createForm.label"}})],1),t._v(" "),a("el-form-item",{staticClass:"form-item",attrs:{label:"权重"}},[a("el-input",{model:{value:t.createForm.weight,callback:function(e){t.$set(t.createForm,"weight",e)},expression:"createForm.weight"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:t.cancelCreate}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small",loading:t.pending},on:{click:t.submitCreate}},[t._v("提 交")])],1)])],1)},i=[],n={render:s,staticRenderFns:i};e.a=n},PP4h:function(t,e,a){e=t.exports=a("FZ+f")(!0),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"index.vue",sourceRoot:""}])},WQMz:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"topbar"},[a("div",{staticClass:"topbar-form"},[a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small"},model:{value:t.params.name,callback:function(e){t.$set(t.params,"name",e)},expression:"params.name"}},[a("template",{slot:"prepend"},[t._v("名称")])],2)],1),t._v(" "),a("div",{staticClass:"topbar-form"},[a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small"},model:{value:t.params.label,callback:function(e){t.$set(t.params,"label",e)},expression:"params.label"}},[a("template",{slot:"prepend"},[t._v("标签")])],2)],1),t._v(" "),a("div",{staticClass:"topbar-form"},[a("el-date-picker",{attrs:{size:"small",type:"datetimerange","picker-options":t.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:t.params.time,callback:function(e){t.$set(t.params,"time",e)},expression:"params.time"}})],1),t._v(" "),a("div",{staticClass:"topbar-form"},[a("el-select",{staticClass:"select-status",attrs:{size:"small",placeholder:"题目状态"},model:{value:t.params.current_status,callback:function(e){t.$set(t.params,"current_status",e)},expression:"params.current_status"}},t._l(t.statusOptions,function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("div",{staticClass:"topbar-form"},[a("el-button",{attrs:{type:"info",icon:"el-icon-refresh",size:"small"},on:{click:t.reset}},[t._v("重置")]),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"small"},on:{click:t.search}},[t._v("搜索")])],1),t._v(" "),a("div",{staticClass:"form-btns flex1"},[a("div",{staticClass:"topbar-form"},[a("el-button",{attrs:{type:"danger",icon:"el-icon-setting",size:"small"},on:{click:t.addSetting}},[t._v("设置")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-plus",size:"small"},on:{click:t.addQuestion}},[t._v("添加题目")])],1)])])},i=[],n={render:s,staticRenderFns:i};e.a=n},ahTz:function(t,e,a){"use strict";var s=a("mvHQ"),i=a.n(s),n=a("6WvH"),r=a("E6Sy");e.a={data:function(){return{statusOptions:n.a.questionStatus,params:{name:"",label:"",time:"",current_status:"0"},pickerOptions:n.a.pickerOptions}},methods:{search:function(){var t=JSON.parse(i()(this.params));t.time&&(t.time=r.a.transTime(t.time).join("-")),this.$emit("search",t)},reset:function(){this.params={name:"",label:"",time:"",current_status:"0"},this.search()},addSetting:function(){this.$emit("addSetting")},addQuestion:function(){this.$emit("addQuestion")}}}},cxve:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return r}),a.d(e,"c",function(){return l}),a.d(e,"d",function(){return o});var s=a("NYxO"),i=Object(s.a)("admin"),n=i.mapActions,r=i.mapGetters,l=i.mapMutations,o=i.mapState},dNPW:function(t,e,a){"use strict";var s=a("E6Sy");e.a=[{prop:"ques_collects_amount",label:"题库数量"},{prop:"label",label:"标签"},{prop:"weight",label:"权重",formatter:function(t,e,a){return a+"%"}},{prop:"time",label:"添加时间",formatter:function(t,e,a){return s.a.dateFormat(1e3*parseInt(a),"yyyy-MM-dd hh:mm:ss")}},{prop:"sort",label:"排序",formatter:function(t,e,a){return+a+1}}]},k6x5:function(t,e,a){var s=a("q6DF");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a("rjj0")("22d13115",s,!0)},mB4h:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{layout:"total, prev, pager, next, jumper","current-page":parseInt(t.$route.query.p)||1,"page-size":20,total:t.totalPage},on:{"current-change":t.handleCurrentChange}})],1)},i=[],n={render:s,staticRenderFns:i};e.a=n},q5LW:function(t,e,a){"use strict";var s=a("Xxa5"),i=a.n(s),n=a("woOf"),r=a.n(n),l=a("exGp"),o=a.n(l),u=a("Dd8w"),c=a.n(u),m=a("DPWj"),p=a("BYdl"),d=a("dNPW"),f=a("cxve");e.a={data:function(){return{pending:!1,totals:1,listData:[],listFormatter:d.a,dialogFormVisible1:!1,dialogFormVisible2:!1,dialogFormVisible3:!1,params:null,form:{label:"",weight:"",sort:""},createForm:{label:"",weight:""},tableData:Array(11).fill("naive").map(function(t,e){return{num:e,desc:""}})}},created:function(){this.listRender({page:1})},watch:{$route:function(){this.listRender({page:this.$route.query.p})}},methods:c()({},Object(f.a)(["questionList","questionCreate","questionStatus","questionEdit","questionDesc"]),Object(f.c)({setSubjectNum:"SUBJECTNUM"}),{listRender:function(t){var e=this;return o()(i.a.mark(function a(){var s;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.setSubjectNum(""),t.game_id=e.$route.query.game,a.next=4,e.questionList(r()({},t,e.params));case 4:s=a.sent,e.listData=s.data,e.totals=s.paging?+s.paging.total:1;case 7:case"end":return a.stop()}},a,e)}))()},pageChange:function(t){this.$router.push({name:"questionList",query:{game:this.$route.query.game,p:t}})},search:function(t){this.params=t,this.$router.push({name:"questionList",query:{game:this.$route.query.game,p:1,t:(new Date).getTime()}})},indexMethod1:function(t){return"第 "+(t+1)+" 题"},indexMethod2:function(t){return t+1},viewQuestion:function(t,e){this.setSubjectNum(+e+1),this.$router.push({name:"subjectList",query:{p:"1",num:+e+1,game:this.$route.query.game,question:t}})},addSetting:function(){this.dialogFormVisible1=!0},cancelSetting:function(){this.tableData=Array(11).fill("naive").map(function(t,e){return{num:e,desc:""}}),this.dialogFormVisible1=!1},addQuestion:function(){this.dialogFormVisible3=!0},cancelQuestion:function(){this.form={label:"",weight:"",sort:""},this.dialogFormVisible2=!1},cancelCreate:function(){this.createForm={label:"",weight:""},this.dialogFormVisible3=!1},questionStatusOpt:function(t,e){var a=this,s="1"===e?"下架":"上架",i="1"===e?"2":"1";this.$confirm("确认"+s+"此项题目？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.questionStatus({id:t,current_status:i}).then(function(){a.listRender({page:a.$route.query.p}),a.$message({type:"success",message:s+"成功"})})}).catch(function(){})},questionEditOpt:function(t){this.form={label:t.label,weight:t.weight,sort:+t.sort+1,id:t.id},this.dialogFormVisible2=!0},submitQuestionEdit:function(){var t=this;this.questionEdit(this.form).then(function(){t.cancelQuestion(),t.listRender({page:t.$route.query.p}),t.$message({type:"success",message:"编辑成功"})})},submitQuestionDesc:function(){var t=this,e=[];this.tableData.map(function(t,a){t&&e.push(t.desc)}),this.questionDesc({game_id:this.$route.query.game,right_desc:e}).then(function(){t.listRender({page:t.$route.query.p}),t.cancelSetting(),t.$message({type:"success",message:"设置描述成功"})})},submitCreate:function(){var t=this;this.createForm.game_id=this.$route.query.game,this.questionCreate(this.createForm).then(function(){t.listRender({page:t.$route.query.p}),t.cancelCreate(),t.$message({type:"success",message:"添加成功"})})}}),components:{query:m.a,pagination:p.a}}},q6DF:function(t,e,a){e=t.exports=a("FZ+f")(!0),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"query.vue",sourceRoot:""}])},sbmd:function(t,e,a){var s=a("PP4h");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a("rjj0")("65f30682",s,!0)}});