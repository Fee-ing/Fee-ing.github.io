webpackJsonp([1],{28:function(t,e,n){"use strict";var s={setCookie:function(t,e,n){n||(n=1);var s=new Date;s.setTime(s.getTime()+24*n*60*60*1e3),document.cookie=t+"="+escape(e)+";expires="+s.toGMTString()},getCookie:function(t){var e=void 0,n=new RegExp("(^| )"+t+"=([^;]*)(;|$)");return(e=document.cookie.match(n))?unescape(e[2]):null},delCookie:function(t){var e=new Date;e.setTime(e.getTime()-1);var n=this.getCookie(t);n&&(document.cookie=t+"="+n+";expires="+e.toGMTString())},setStorage:function(t,e){window.localStorage.setItem(t,e)},getStorage:function(t){return window.localStorage.getItem(t)},delStorage:function(t){this.setStorage(t,"")},toast:function(t){if(!document.querySelector(".toast")){var e=document.querySelector("body"),n=document.createElement("div");n.className="toast",n.innerHTML=t,e.appendChild(n),setTimeout(function(){n.style.opacity=1,setTimeout(function(){n.style.opacity=0,setTimeout(function(){n.parentNode.removeChild(n)},350)},2e3)},300)}},formatTime:function(t){var e=new Date(t),n=new Date,s=void 0,r=void 0,i=void 0,o=void 0,a=void 0,c=void 0,l=void 0,u=void 0,g=void 0,p=void 0,h=void 0,d=void 0;return s=e.getFullYear(),r=e.getMonth(),i=e.getDate(),o=e.getHours(),a=e.getMinutes(),c=e.getSeconds(),l=n.getFullYear(),u=n.getMonth(),g=n.getDate(),p=n.getHours(),h=n.getMinutes(),d=n.getSeconds(),l-s>1?l-s+"年前":l-s>0?"去年"+r+"1月":u-r>0?"今年"+r+"1月":g-i>1?g-i+"天前":g-i>0?"昨天"+o+"点":p-o>0?p-o+"小时前":h-a>0?h-a+"分钟前":d-c>0?d-c+"秒前":"刚刚"},explorerVersion:function(){var t=window.navigator.userAgent.toLowerCase();if(t.indexOf("msie")>=0){if(+t.match(/msie ([\d.]+)/)[1].slice(0,3)<10)return!1}else if(t.indexOf("firefox")>=0){var e=t.match(/firefox\/([\d.]+)/)[1].slice(0,3);if(+e<18)return!1}else if(t.indexOf("chrome")>=0){var n=t.match(/chrome\/([\d.]+)/)[1].slice(0,3);if(+n<21)return!1}else if(t.indexOf("opera")>=0){var s=t.match(/opera.([\d.]+)/)[1].slice(0,3);if(+s<17)return!1}else if(t.indexOf("Safari")>=0){var r=t.match(/version\/([\d.]+)/)[1].slice(0,3);if(+r<6.1)return!1}return!0},parseLyric:function(t){for(var e=t.split("\n"),n={},s=0;s<e.length;s++){var r=decodeURIComponent(e[s]),i=/\[\d*:\d*((\.|\:)\d*)*\]/g,o=r.match(i);if(o)for(var a=r.replace(i,""),c=0,l=o.length;c<l;c++){var u=o[c],g=Number(String(u.match(/\[\d*/i)).slice(1)),p=Number(String(u.match(/\:\d*/i)).slice(1)),h=60*g+p;n[h]=a}}return n},randomArr:function(t){for(var e=t.length,n=0;n<e-1;n++){var s=Math.floor(Math.random()*(e-n)),r=t[s];t[s]=t[e-n-1],t[e-n-1]=r}return t}};e.a=s},39:function(t,e,n){"use strict";(function(t){var e=n(53),s=n.n(e),r=n(56),i=n.n(r);/*! pace 1.0.2 */
(function(){var e,r,o,a,c,l,u,g,p,h,d,f,v,m,y,S,w,C,L,x,_,T,b,P,k,I,N,D,q,$,A,M,O,R,j,E,F,H,U,V,W,z,B,X,G,J,Y,Q,Z,K=[].slice,tt={}.hasOwnProperty,et=function(t,e){function n(){this.constructor=t}for(var s in e)tt.call(e,s)&&(t[s]=e[s]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},nt=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};for(_={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},q=function(){var t;return null!=(t="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?t:+new Date},A=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,x=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==A&&(A=function(t){return setTimeout(t,50)},x=function(t){return clearTimeout(t)}),O=function(t){var e,n;return e=q(),(n=function(){var s;return s=q()-e,s>=33?(e=q(),t(s,function(){return A(n)})):setTimeout(n,33-s)})()},M=function(){var t,e,n;return n=arguments[0],e=arguments[1],t=3<=arguments.length?K.call(arguments,2):[],"function"==typeof n[e]?n[e].apply(n,t):n[e]},T=function(){var t,e,n,s,r,o,a;for(e=arguments[0],s=2<=arguments.length?K.call(arguments,1):[],o=0,a=s.length;a>o;o++)if(n=s[o])for(t in n)tt.call(n,t)&&(r=n[t],null!=e[t]&&"object"==i()(e[t])&&null!=r&&"object"==(void 0===r?"undefined":i()(r))?T(e[t],r):e[t]=r);return e},w=function(t){var e,n,s,r,i;for(n=e=0,r=0,i=t.length;i>r;r++)s=t[r],n+=Math.abs(s),e++;return n/e},P=function(t,e){var n,s,r;if(null==t&&(t="options"),null==e&&(e=!0),r=document.querySelector("[data-pace-"+t+"]")){if(n=r.getAttribute("data-pace-"+t),!e)return n;try{return JSON.parse(n)}catch(t){return s=t,"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",s):void 0}}},u=function(){function t(){}return t.prototype.on=function(t,e,n,s){var r;return null==s&&(s=!1),null==this.bindings&&(this.bindings={}),null==(r=this.bindings)[t]&&(r[t]=[]),this.bindings[t].push({handler:e,ctx:n,once:s})},t.prototype.once=function(t,e,n){return this.on(t,e,n,!0)},t.prototype.off=function(t,e){var n,s,r;if(null!=(null!=(s=this.bindings)?s[t]:void 0)){if(null==e)return delete this.bindings[t];for(n=0,r=[];n<this.bindings[t].length;)this.bindings[t][n].handler===e?r.push(this.bindings[t].splice(n,1)):r.push(n++);return r}},t.prototype.trigger=function(){var t,e,n,s,r,i,o,a,c;if(n=arguments[0],t=2<=arguments.length?K.call(arguments,1):[],null!=(o=this.bindings)?o[n]:void 0){for(r=0,c=[];r<this.bindings[n].length;)a=this.bindings[n][r],s=a.handler,e=a.ctx,i=a.once,s.apply(null!=e?e:this,t),i?c.push(this.bindings[n].splice(r,1)):c.push(r++);return c}},t}(),h=window.Pace||{},window.Pace=h,T(h,u.prototype),$=h.options=T({},_,window.paceOptions,P()),Y=["ajax","document","eventLag","elements"],B=0,G=Y.length;G>B;B++)F=Y[B],!0===$[F]&&($[F]=_[F]);p=function(t){function e(){return Q=e.__super__.constructor.apply(this,arguments)}return et(e,t),e}(Error),r=function(){function t(){this.progress=0}return t.prototype.getElement=function(){var t;if(null==this.el){if(!(t=document.querySelector($.target)))throw new p;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=t.firstChild?t.insertBefore(this.el,t.firstChild):t.appendChild(this.el)}return this.el},t.prototype.finish=function(){var t;return t=this.getElement(),t.className=t.className.replace("pace-active",""),t.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},t.prototype.update=function(t){return this.progress=t,this.render()},t.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(t){p=t}return this.el=void 0},t.prototype.render=function(){var t,e,n,s,r,i,o;if(null==document.querySelector($.target))return!1;for(t=this.getElement(),s="translate3d("+this.progress+"%, 0, 0)",o=["webkitTransform","msTransform","transform"],r=0,i=o.length;i>r;r++)e=o[r],t.children[0].style[e]=s;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(t.children[0].setAttribute("data-progress-text",(0|this.progress)+"%"),this.progress>=100?n="99":(n=this.progress<10?"0":"",n+=0|this.progress),t.children[0].setAttribute("data-progress",""+n)),this.lastRenderedProgress=this.progress},t.prototype.done=function(){return this.progress>=100},t}(),g=function(){function t(){this.bindings={}}return t.prototype.trigger=function(t,e){var n,s,r,i,o;if(null!=this.bindings[t]){for(i=this.bindings[t],o=[],s=0,r=i.length;r>s;s++)n=i[s],o.push(n.call(this,e));return o}},t.prototype.on=function(t,e){var n;return null==(n=this.bindings)[t]&&(n[t]=[]),this.bindings[t].push(e)},t}(),z=window.XMLHttpRequest,W=window.XDomainRequest,V=window.WebSocket,b=function(t,e){var n,r;r=[];for(n in e.prototype)try{null==t[n]&&"function"!=typeof e[n]?"function"==typeof s.a?r.push(s()(t,n,{get:function(){return e.prototype[n]},configurable:!0,enumerable:!0})):r.push(t[n]=e.prototype[n]):r.push(void 0)}catch(t){t}return r},N=[],h.ignore=function(){var t,e,n;return e=arguments[0],t=2<=arguments.length?K.call(arguments,1):[],N.unshift("ignore"),n=e.apply(null,t),N.shift(),n},h.track=function(){var t,e,n;return e=arguments[0],t=2<=arguments.length?K.call(arguments,1):[],N.unshift("track"),n=e.apply(null,t),N.shift(),n},E=function(t){var e;if(null==t&&(t="GET"),"track"===N[0])return"force";if(!N.length&&$.ajax){if("socket"===t&&$.ajax.trackWebSockets)return!0;if(e=t.toUpperCase(),nt.call($.ajax.trackMethods,e)>=0)return!0}return!1},d=function(t){function e(){var t,n=this;e.__super__.constructor.apply(this,arguments),t=function(t){var e;return e=t.open,t.open=function(s,r,i){return E(s)&&n.trigger("request",{type:s,url:r,request:t}),e.apply(t,arguments)}},window.XMLHttpRequest=function(e){var n;return n=new z(e),t(n),n};try{b(window.XMLHttpRequest,z)}catch(t){}if(null!=W){window.XDomainRequest=function(){var e;return e=new W,t(e),e};try{b(window.XDomainRequest,W)}catch(t){}}if(null!=V&&$.ajax.trackWebSockets){window.WebSocket=function(t,e){var s;return s=null!=e?new V(t,e):new V(t),E("socket")&&n.trigger("request",{type:"socket",url:t,protocols:e,request:s}),s};try{b(window.WebSocket,V)}catch(t){}}}return et(e,t),e}(g),X=null,k=function(){return null==X&&(X=new d),X},j=function(t){var e,n,s,r;for(r=$.ajax.ignoreURLs,n=0,s=r.length;s>n;n++)if("string"==typeof(e=r[n])){if(-1!==t.indexOf(e))return!0}else if(e.test(t))return!0;return!1},k().on("request",function(t){var n,s,r,i,o;return i=t.type,r=t.request,o=t.url,j(o)?void 0:h.running||!1===$.restartOnRequestAfter&&"force"!==E(i)?void 0:(s=arguments,n=$.restartOnRequestAfter||0,"boolean"==typeof n&&(n=0),setTimeout(function(){var t,n,o,a,c;if("socket"===i?r.readyState<2:0<(o=r.readyState)&&4>o){for(h.restart(),a=h.sources,c=[],t=0,n=a.length;n>t;t++){if((F=a[t])instanceof e){F.watch.apply(F,s);break}c.push(void 0)}return c}},n))}),e=function(){function t(){var t=this;this.elements=[],k().on("request",function(){return t.watch.apply(t,arguments)})}return t.prototype.watch=function(t){var e,n,s,r;return s=t.type,e=t.request,r=t.url,j(r)?void 0:(n="socket"===s?new m(e):new y(e),this.elements.push(n))},t}(),y=function(){function t(t){var e,n,s,r,i,o=this;if(this.progress=0,null!=window.ProgressEvent)for(null,t.addEventListener("progress",function(t){return t.lengthComputable?o.progress=100*t.loaded/t.total:o.progress=o.progress+(100-o.progress)/2},!1),i=["load","abort","timeout","error"],n=0,s=i.length;s>n;n++)e=i[n],t.addEventListener(e,function(){return o.progress=100},!1);else r=t.onreadystatechange,t.onreadystatechange=function(){var e;return 0===(e=t.readyState)||4===e?o.progress=100:3===t.readyState&&(o.progress=50),"function"==typeof r?r.apply(null,arguments):void 0}}return t}(),m=function(){function t(t){var e,n,s,r,i=this;for(this.progress=0,r=["error","open"],n=0,s=r.length;s>n;n++)e=r[n],t.addEventListener(e,function(){return i.progress=100},!1)}return t}(),a=function(){function t(t){var e,n,s,r;for(null==t&&(t={}),this.elements=[],null==t.selectors&&(t.selectors=[]),r=t.selectors,n=0,s=r.length;s>n;n++)e=r[n],this.elements.push(new c(e))}return t}(),c=function(){function t(t){this.selector=t,this.progress=0,this.check()}return t.prototype.check=function(){var t=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return t.check()},$.elements.checkInterval)},t.prototype.done=function(){return this.progress=100},t}(),o=function(){function t(){var t,e,n=this;this.progress=null!=(e=this.states[document.readyState])?e:100,t=document.onreadystatechange,document.onreadystatechange=function(){return null!=n.states[document.readyState]&&(n.progress=n.states[document.readyState]),"function"==typeof t?t.apply(null,arguments):void 0}}return t.prototype.states={loading:0,interactive:50,complete:100},t}(),l=function(){function t(){var t,e,n,s,r,i=this;this.progress=0,t=0,r=[],s=0,n=q(),e=setInterval(function(){var o;return o=q()-n-50,n=q(),r.push(o),r.length>$.eventLag.sampleCount&&r.shift(),t=w(r),++s>=$.eventLag.minSamples&&t<$.eventLag.lagThreshold?(i.progress=100,clearInterval(e)):i.progress=3/(t+3)*100},50)}return t}(),v=function(){function t(t){this.source=t,this.last=this.sinceLastUpdate=0,this.rate=$.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=M(this.source,"progress"))}return t.prototype.tick=function(t,e){var n;return null==e&&(e=M(this.source,"progress")),e>=100&&(this.done=!0),e===this.last?this.sinceLastUpdate+=t:(this.sinceLastUpdate&&(this.rate=(e-this.last)/this.sinceLastUpdate),this.catchup=(e-this.progress)/$.catchupTime,this.sinceLastUpdate=0,this.last=e),e>this.progress&&(this.progress+=this.catchup*t),n=1-Math.pow(this.progress/100,$.easeFactor),this.progress+=n*this.rate*t,this.progress=Math.min(this.lastProgress+$.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},t}(),H=null,R=null,C=null,U=null,S=null,L=null,h.running=!1,I=function(){return $.restartOnPushState?h.restart():void 0},null!=window.history.pushState&&(J=window.history.pushState,window.history.pushState=function(){return I(),J.apply(window.history,arguments)}),null!=window.history.replaceState&&(Z=window.history.replaceState,window.history.replaceState=function(){return I(),Z.apply(window.history,arguments)}),f={ajax:e,elements:a,document:o,eventLag:l},(D=function(){var t,e,n,s,i,o,a,c;for(h.sources=H=[],o=["ajax","elements","document","eventLag"],e=0,s=o.length;s>e;e++)t=o[e],!1!==$[t]&&H.push(new f[t]($[t]));for(c=null!=(a=$.extraSources)?a:[],n=0,i=c.length;i>n;n++)F=c[n],H.push(new F($));return h.bar=C=new r,R=[],U=new v})(),h.stop=function(){return h.trigger("stop"),h.running=!1,C.destroy(),L=!0,null!=S&&("function"==typeof x&&x(S),S=null),D()},h.restart=function(){return h.trigger("restart"),h.stop(),h.start()},h.go=function(){var t;return h.running=!0,C.render(),t=q(),L=!1,S=O(function(e,n){var s,r,i,o,a,c,l,u,g,p,d,f,m,y,S;for(100-C.progress,r=p=0,i=!0,c=d=0,m=H.length;m>d;c=++d)for(F=H[c],g=null!=R[c]?R[c]:R[c]=[],a=null!=(S=F.elements)?S:[F],l=f=0,y=a.length;y>f;l=++f)o=a[l],u=null!=g[l]?g[l]:g[l]=new v(o),i&=u.done,u.done||(r++,p+=u.tick(e));return s=p/r,C.update(U.tick(e,s)),C.done()||i||L?(C.update(100),h.trigger("done"),setTimeout(function(){return C.finish(),h.running=!1,h.trigger("hide")},Math.max($.ghostTime,Math.max($.minTime-(q()-t),0)))):n()})},h.start=function(t){T($,t),h.running=!0;try{C.render()}catch(t){p=t}return document.querySelector(".pace")?(h.trigger("start"),h.go()):setTimeout(h.start,50)},"function"==typeof define&&n(99)?define(["pace"],function(){return h}):"object"==("undefined"==typeof exports?"undefined":i()(exports))?t.exports=h:$.startOnPageLoad&&h.start()}).call(this)}).call(e,n(101)(t))},40:function(t,e,n){"use strict";var s=n(29),r=n(97);s.a.use(r.a);var i=new r.a({routes:[{path:"/music",component:n(92)},{path:"/tip",component:n(93)},{path:"/",redirect:"/music"},{path:"*",redirect:"/music"}]});e.a=i},41:function(t,e){},42:function(t,e){},43:function(t,e){},44:function(t,e){},45:function(t,e,n){function s(t){n(90)}var r=n(27)(n(47),n(95),s,null,null);t.exports=r.exports},47:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app"}},48:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(52),r=n.n(s),i=n(28),o=n(50);e.default={data:function(){return{searchData:{keywords:"",songList:[],searchPage:1,searchTotalpage:1,searchTotalNum:0},songList:[],historySongList:[],favorSongList:[],songIndex:null,songType:"2",song:{songname:"无歌曲信息",songid:"",singer:"无歌手信息",songSrc:"",imgSrc:"",duration:0,songProgress:0,voiceProgress:50,lyric:{},currentTime:0,currentLyric:"0",transIndex:0,translatePosition:300},playSetting:{rotateDeg:0,playType:"1",randomSongList:[],randomIndex:0,isPause:!0}}},mounted:function(){var t=this;i.a.getStorage("Fee_historySongList")?this.historySongList=JSON.parse(i.a.getStorage("Fee_historySongList")):this.historySongList=[],i.a.getStorage("Fee_favorSongList")?this.favorSongList=JSON.parse(i.a.getStorage("Fee_favorSongList")):this.favorSongList=[],this.songList=this.historySongList,this.historySongList.length>0?t.getSong(this.historySongList[0]):t.playSetting.isPause=!1,t.$refs.audio.volume=t.song.voiceProgress/100,this.$refs.audio.addEventListener("timeupdate",function(){var e=parseInt(this.currentTime);if(e!==t.song.currentTime){if(t.song.lyric[e]){var n=0;for(var s in t.song.lyric)t.song.lyric[s]&&+s<e&&n++;t.$set(t.song,"transIndex",n),t.$set(t.song,"currentLyric",e)}t.$set(t.song,"currentTime",e)}}),this.$refs.audio.addEventListener("pause",function(){t.$refs.playOrPause.className="iconfont icon-cplay1"}),this.$refs.audio.addEventListener("play",function(){t.$refs.playOrPause.className="iconfont icon-bofang",t.playSetting.isPause&&(this.pause(),t.playSetting.isPause=!1)}),this.$refs.audio.addEventListener("canplay",function(){this.play()}),this.$refs.audio.addEventListener("ended",function(){t.playSetting.randomIndex>=t.playSetting.randomSongList.length-1?t.playSetting.randomIndex=0:t.playSetting.randomIndex+=1;var e=t.playSetting.randomSongList[t.playSetting.randomIndex],n=t.songList[e];t.getSong(n,e)}),this.$refs.audio.addEventListener("error",function(){t.song.songSrc&&(i.a.toast("获取歌曲失败"),this.pause())}),this.$refs.audio.addEventListener("stalled",function(){i.a.toast("请检查网络"),this.pause()}),this.$refs.audio.addEventListener("waiting",function(){i.a.toast("加载中"),this.pause()})},watch:{"song.currentTime":"updateSongProgress",songList:"getRandomSongList"},computed:{getSongProgress:function(){if(0<this.song.songProgress<5)return this.song.songProgress+.5}},methods:{stopPro:function(){},changeSongType:function(t){"1"===t?this.songList=this.searchData.songList:"2"===t?this.songList=this.historySongList:"3"===t&&(this.songList=this.favorSongList),this.songType=t},initResult:function(){this.searchData.songList=[],this.searchData.searchPage=1,this.searchData.searchTotalpage=1,this.searchData.searchTotalNum=0},hideVoice:function(){this.$refs.voiceControl.className=this.$refs.voiceControl.className.replace(/ active/g,"")},search:function(){var t=this;if(""===this.searchData.keywords.replace(/(^\s*)|(\s*$)/g,""))return void i.a.toast("请输入关键词");this.initResult(),this.$http.jsonp("https://c.y.qq.com/soso/fcgi-bin/search_for_qq_cp",{params:{format:"jsonp",n:20,w:this.searchData.keywords,p:this.searchData.searchPage},jsonp:"jsonpCallback"}).then(function(e){t.songIndex=null,t.songType="1",t.searchData.songList=e.data.data.song.list,t.songList=t.searchData.songList,t.searchData.searchPage=e.data.data.song.curpage,t.searchData.searchTotalpage=parseInt(e.data.data.song.totalnum/20)+(parseInt(e.data.data.song.totalnum%20)>0?1:0),t.searchData.searchTotalNum=e.data.data.song.totalnum}).catch(function(t){i.a.toast("搜索失败")})},getDuration:function(t){var e=parseInt(t%60)>9?parseInt(t%60):"0"+parseInt(t%60);return(parseInt(t/60)>9?parseInt(t/60):"0"+parseInt(t/60))+" : "+e},getSinger:function(t){if(0===t.length)return"";var e=[];return t.map(function(t){t.name&&e.push(t.name)}),e.join(" / ")},getMoreSongs:function(){var t=this;this.$http.jsonp("https://c.y.qq.com/soso/fcgi-bin/search_for_qq_cp",{params:{format:"jsonp",n:20,w:this.searchData.keywords,p:this.searchData.searchPage+1},jsonp:"jsonpCallback"}).then(function(e){t.searchData.songList=t.searchData.songList.concat(e.data.data.song.list),t.songList=t.searchData.songList,t.searchData.searchPage=e.data.data.song.curpage,t.searchData.searchTotalpage=parseInt(e.data.data.song.totalnum/20)+(parseInt(e.data.data.song.totalnum%20)>0?1:0),t.searchData.searchTotalNum=e.data.data.song.totalnum}).catch(function(t){i.a.toast("获取失败")})},setHistorySong:function(t){for(var e=0,n=this.historySongList.length;e<n;e++)if(t.songid===this.historySongList[e].songid){this.historySongList.splice(e,1);break}this.historySongList.length>=100&&this.historySongList.splice(99,1),this.historySongList=[t].concat(this.historySongList),"2"===this.songType&&(this.songList=this.historySongList),i.a.setStorage("Fee_historySongList",r()(this.historySongList))},getSong:function(t,e){var n=this;if(this.songIndex=e||0,"1"===this.playSetting.playType)this.playSetting.randomIndex=e;else if("2"===this.playSetting.playType)this.playSetting.randomIndex=0;else if("3"===this.playSetting.playType)for(var s=0,r=this.playSetting.randomSongList.length;s<r;s++)if(this.playSetting.randomSongList[s]===e){this.playSetting.randomIndex=s;break}var a=this.song.voiceProgress;this.song={songname:t.songname,songid:t.songid,singer:this.getSinger(t.singer),songSrc:"http://dl.stream.qqmusic.qq.com/"+t.songid+".m4a?fromtag=66",imgSrc:"https://y.gtimg.cn/music/photo_new/T002R300x300M000"+t.albummid+".jpg?max_age=2592000",duration:t.interval,songProgress:0,voiceProgress:a,lyric:{},currentTime:0,currentLyric:"0",transIndex:0,translatePosition:300},this.$refs.audio.currentTime=0,this.$refs.audio.pause(),this.hideVoice(),this.setHistorySong(t),this.$http.jsonp("https://api.darlin.me/music/lyric/"+t.songid+"/?").then(function(t){var e=new o.a,s=e.decode(t.body.lyric);n.song.lyric=i.a.parseLyric(s)}).catch(function(t){i.a.toast("获取歌词失败")})},playSong:function(){event.currentTarget.className.indexOf("icon-bofang")>=0?this.$refs.audio.pause():this.$refs.audio.play()},preSong:function(){this.playSetting.randomIndex<=0?this.playSetting.randomIndex=this.playSetting.randomSongList.length-1:this.playSetting.randomIndex-=1;var t=this.playSetting.randomSongList[this.playSetting.randomIndex],e=this.songList[t];this.getSong(e,t)},nextSong:function(){this.playSetting.randomIndex>=this.playSetting.randomSongList.length-1?this.playSetting.randomIndex=0:this.playSetting.randomIndex+=1;var t=this.playSetting.randomSongList[this.playSetting.randomIndex],e=this.songList[t];this.getSong(e,t)},updateSongProgress:function(){this.song.songProgress=parseInt(this.song.currentTime/this.song.duration*100)},changeSongProgress:function(){this.$refs.audio.currentTime=parseInt(this.$refs.audio.duration*this.song.songProgress/100)+1;var t=0;for(var e in this.song.lyric)this.song.lyric[e]&&+e<this.$refs.audio.currentTime&&t++;this.song.transIndex=t-1;for(var n=this.$refs.audio.currentTime;n>=0;n--){var s=n.toString();if(this.song.lyric[s]){this.song.currentLyric=s;break}}},showVoice:function(){var t=event.currentTarget;t.className.indexOf("active")>=0?t.className=t.className.replace(/ active/g,""):t.className+=" active"},changeVoiceProgress:function(){this.$refs.voiceRange.style.backgroundSize=this.song.voiceProgress+"% 100%",this.$refs.audio.volume=this.song.voiceProgress/100,this.song.voiceProgress<=0?this.$refs.voiceControl.className=this.$refs.voiceControl.className.replace(/shengyin/g,"jingyin"):this.$refs.voiceControl.className=this.$refs.voiceControl.className.replace(/jingyin/g,"shengyin")},rotate:function(){this.playSetting.rotateDeg+=180;var t=this.$refs.musicContainer;t.className.indexOf("result")>=0?this.$refs.musicContainer.className=t.className.replace(/result/g,"lyric"):this.$refs.musicContainer.className=t.className.replace(/lyric/g,"result")},changePlayType:function(){var t=this.songIndex,e=this.songList.length;if("1"===this.playSetting.playType)this.playSetting.playType="2",this.playSetting.randomSongList=[t],this.playSetting.randomIndex=0;else if("2"===this.playSetting.playType){this.playSetting.playType="3";var n=Array.apply(null,{length:e}).map(function(t,e){return e});n.splice(t,1),n=i.a.randomArr(n),n=[t].concat(n),this.playSetting.randomSongList=n,this.playSetting.randomIndex=0}else"3"===this.playSetting.playType&&(this.playSetting.playType="1",this.playSetting.randomSongList=Array.apply(null,{length:e}).map(function(t,e){return e}),this.playSetting.randomIndex=t)},getRandomSongList:function(){var t=this.songIndex,e=this.songList.length;if("1"===this.playSetting.playType)this.playSetting.randomSongList=Array.apply(null,{length:e}).map(function(t,e){return e}),this.playSetting.randomIndex=t;else if("2"===this.playSetting.playType)this.playSetting.randomSongList=[t],this.playSetting.randomIndex=0;else if("3"===this.playSetting.playType){var n=Array.apply(null,{length:e}).map(function(t,e){return e});n.splice(t,1),n=i.a.randomArr(n),n=[t].concat(n),this.playSetting.randomSongList=n,this.playSetting.randomIndex=0}},addFavor:function(t){for(var e=0,n=this.favorSongList.length;e<n;e++)if(t.songid===this.favorSongList[e].songid)return void i.a.toast("已存在");if(this.favorSongList.length>=100)return void i.a.toast("超过限制");this.favorSongList=[t].concat(this.favorSongList),i.a.toast("添加成功"),i.a.setStorage("Fee_favorSongList",r()(this.favorSongList))},removeFavor:function(t){this.favorSongList.splice(t,1),i.a.toast("移除成功"),i.a.setStorage("Fee_favorSongList",r()(this.favorSongList))}}}},49:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{type:"1"}},mounted:function(){this.type=this.$route.query.type},methods:{refresh:function(){window.location.reload()}}}},50:function(t,e,n){"use strict";var s=function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";this.encode=function(n){var s="",r=void 0,i=void 0,o=void 0,a=void 0,c=void 0,l=void 0,u=void 0,g=0;for(n=e(n);g<n.length;)r=n.charCodeAt(g++),i=n.charCodeAt(g++),o=n.charCodeAt(g++),a=r>>2,c=(3&r)<<4|i>>4,l=(15&i)<<2|o>>6,u=63&o,isNaN(i)?l=u=64:isNaN(o)&&(u=64),s=s+t.charAt(a)+t.charAt(c)+t.charAt(l)+t.charAt(u);return s},this.decode=function(e){var s="",r=void 0,i=void 0,o=void 0,a=void 0,c=void 0,l=void 0,u=void 0,g=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");g<e.length;)a=t.indexOf(e.charAt(g++)),c=t.indexOf(e.charAt(g++)),l=t.indexOf(e.charAt(g++)),u=t.indexOf(e.charAt(g++)),r=a<<2|c>>4,i=(15&c)<<4|l>>2,o=(3&l)<<6|u,s+=String.fromCharCode(r),64!=l&&(s+=String.fromCharCode(i)),64!=u&&(s+=String.fromCharCode(o));return s=n(s)};var e=function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var s=t.charCodeAt(n);s<128?e+=String.fromCharCode(s):s>127&&s<2048?(e+=String.fromCharCode(s>>6|192),e+=String.fromCharCode(63&s|128)):(e+=String.fromCharCode(s>>12|224),e+=String.fromCharCode(s>>6&63|128),e+=String.fromCharCode(63&s|128))}return e},n=function(t){for(var e="",n=0,s=void 0,r=void 0,i=void 0,o=s=r=0;n<t.length;)o=t.charCodeAt(n),o<128?(e+=String.fromCharCode(o),n++):o>191&&o<224?(r=t.charCodeAt(n+1),e+=String.fromCharCode((31&o)<<6|63&r),n+=2):(r=t.charCodeAt(n+1),i=t.charCodeAt(n+2),e+=String.fromCharCode((15&o)<<12|(63&r)<<6|63&i),n+=3);return e}};e.a=s},51:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(29),r=n(45),i=n.n(r),o=n(40),a=n(46),c=n.n(a),l=n(43),u=(n.n(l),n(44)),g=(n.n(u),n(41)),p=(n.n(g),n(42)),h=(n.n(p),n(39),n(28));s.a.use(c.a),s.a.config.productionTip=!1;var d=navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i),f=h.a.explorerVersion();o.a.beforeEach(function(t,e,n){d&&"/tip"!==t.path?n({path:"/tip",query:{type:"1"}}):f||"/tip"===t.path?n():n({path:"/tip",query:{type:"2"}})}),new s.a({el:"#app",router:o.a,render:function(t){return t(i.a)}})},89:function(t,e){},90:function(t,e){},91:function(t,e){},92:function(t,e,n){function s(t){n(89)}var r=n(27)(n(48),n(94),s,"data-v-171ad036",null);t.exports=r.exports},93:function(t,e,n){function s(t){n(91)}var r=n(27)(n(49),n(96),s,"data-v-68d0bc28",null);t.exports=r.exports},94:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"music-wrapper",on:{click:t.hideVoice}},[n("div",{staticClass:"music-heading centerVertical"},[n("div",{staticClass:"music-search-wrapper flexbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.searchData.keywords,expression:"searchData.keywords"}],staticClass:"search-input flex1",attrs:{type:"text",placeholder:"想听什么就搜一搜吧"},domProps:{value:t.searchData.keywords},on:{input:function(e){e.target.composing||(t.searchData.keywords=e.target.value)}}}),t._v(" "),n("a",{staticClass:"option-button search-btn",on:{click:function(e){e.stopPropagation(),t.search(e)}}},[t._v("搜索")])])]),t._v(" "),n("div",{staticClass:"music-content"},[n("div",{ref:"musicContainer",staticClass:"music-container music-container-result",style:{transform:"rotateY("+t.playSetting.rotateDeg+"deg)"}},[n("div",{staticClass:"song-wrapper flexbox"},[n("div",{staticClass:"song-tabbar flexbox"},[n("a",{staticClass:"tabbar-item flex1",class:{active:"1"===t.songType},on:{click:function(e){t.changeSongType("1")}}},[t._v("搜索结果")]),t._v(" "),n("a",{staticClass:"tabbar-item flex1",class:{active:"2"===t.songType},on:{click:function(e){t.changeSongType("2")}}},[t._v("播放历史")]),t._v(" "),n("a",{staticClass:"tabbar-item flex1",class:{active:"3"===t.songType},on:{click:function(e){t.changeSongType("3")}}},[t._v("我想听的")])]),t._v(" "),n("div",{staticClass:"result-wrapper flex1 flexbox"},[n("div",{directives:[{name:"show",rawName:"v-show",value:"1"===t.songType,expression:"songType === '1'"}],staticClass:"result-tip"},[t._v("共"+t._s(t.searchData.searchTotalNum)+"个搜索结果")]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"2"===t.songType,expression:"songType === '2'"}],staticClass:"result-tip"},[t._v("共"+t._s(t.historySongList.length)+"条历史记录（最多记录100条）")]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"3"===t.songType,expression:"songType === '3'"}],staticClass:"result-tip"},[t._v("共"+t._s(t.favorSongList.length)+"首现在想听的（最多记录100首）")]),t._v(" "),n("div",{staticClass:"result-list result-list-header"},[n("div",{staticClass:"option"},[t._v(t._s("3"===t.songType?"移除":"添加"))]),t._v(" "),n("div",{staticClass:"songname"},[t._v("歌曲")]),t._v(" "),n("div",{staticClass:"singer"},[t._v("歌手")]),t._v(" "),n("div",{staticClass:"album"},[t._v("专辑")]),t._v(" "),n("div",{staticClass:"duration"},[t._v("时长")])]),t._v(" "),n("div",{staticClass:"result-list-wrapper flex1"},[t._l(t.songList,function(e,s){return n("div",{staticClass:"result-list",class:{active:t.song.songid===e.songid},on:{click:function(n){n.stopPropagation(),t.getSong(e,s)}}},["3"!==t.songType?n("a",{staticClass:"option iconfont icon-jia",attrs:{title:"添加到我现在想听的"},on:{click:function(n){n.stopPropagation(),t.addFavor(e)}}}):n("a",{staticClass:"option iconfont icon-Untitled",attrs:{title:"从我想听的中移除"},on:{click:function(e){e.stopPropagation(),t.removeFavor(s)}}}),t._v(" "),n("div",{staticClass:"songname",domProps:{innerHTML:t._s(e.songname)}}),t._v(" "),n("div",{staticClass:"singer",domProps:{innerHTML:t._s(t.getSinger(e.singer))}}),t._v(" "),n("div",{staticClass:"album",domProps:{innerHTML:t._s(e.albumname)}}),t._v(" "),n("div",{staticClass:"duration"},[t._v(t._s(t.getDuration(e.interval)))])])}),t._v(" "),"1"===t.songType&&t.searchData.searchTotalpage>1&&t.searchData.searchPage<t.searchData.searchTotalpage?n("a",{staticClass:"more-song",on:{click:function(e){e.stopPropagation(),t.getMoreSongs(e)}}},[t._v("获取更多")]):t._e()],2)])]),t._v(" "),n("div",{staticClass:"lyric-wrapper"},[n("div",{staticClass:"lyric-content",style:{transform:"translateY("+(t.song.translatePosition-35*t.song.transIndex)+"px)"}},[t._l(t.song.lyric,function(e,s){return[e?n("div",{staticClass:"lyric-list centerVertical",class:+s==+t.song.currentLyric?"active":""},[t._v(t._s(e))]):t._e()]})],2)])])]),t._v(" "),n("div",{staticClass:"music-footer"},[n("audio",{ref:"audio",staticClass:"audio",attrs:{autoplay:"false",src:t.song.songSrc}},[n("source",{attrs:{src:t.song.songSrc}})]),t._v(" "),n("div",{staticClass:"music-footer-content verticalbox"},[n("div",{staticClass:"song-img img",style:{backgroundImage:"url("+t.song.imgSrc+")"},on:{click:t.rotate}}),t._v(" "),n("div",{staticClass:"play-wrapper verticalbox"},[n("a",{staticClass:"iconfont icon-shangyishou",on:{click:t.preSong}}),t._v(" "),n("a",{ref:"playOrPause",staticClass:"iconfont icon-cplay1",on:{click:t.playSong}}),t._v(" "),n("a",{staticClass:"iconfont icon-xiayishou",on:{click:t.nextSong}})]),t._v(" "),n("div",{staticClass:"progress-wrapper flex1"},[n("div",{staticClass:"songinfo-wrapper"},[n("span",{staticClass:"song-name",domProps:{innerHTML:t._s(t.song.songname)}}),t._v("-"),n("span",{staticClass:"singer",domProps:{innerHTML:t._s(t.song.singer)}})]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.song.songProgress,expression:"song.songProgress"}],ref:"songRange",staticClass:"song-progress",style:{backgroundSize:t.getSongProgress+"% 100%"},attrs:{type:"range"},domProps:{value:t.song.songProgress},on:{change:function(e){e.stopPropagation(),t.changeSongProgress(e)},__r:function(e){t.song.songProgress=e.target.value}}}),t._v(" "),n("div",{staticClass:"song-time"},[n("span",{staticClass:"now-time"},[t._v(t._s(t.getDuration(t.song.currentTime)))]),t._v(" "),n("span",{staticClass:"total-time"},[t._v(t._s(t.getDuration(t.song.duration)))])])]),t._v(" "),n("div",{staticClass:"option-wrapper verticalbox"},[n("a",{staticClass:"iconfont play-type",class:{"icon-xunhuan":"1"===t.playSetting.playType,"icon-danquxunhuan":"2"===t.playSetting.playType,"icon-suiji":"3"===t.playSetting.playType},on:{click:t.changePlayType}}),t._v(" "),n("a",{staticClass:"iconfont icon-xiazai",attrs:{href:t.song.songSrc,download:t.song.songname}}),t._v(" "),n("a",{ref:"voiceControl",staticClass:"iconfont icon-shengyin",on:{click:function(e){e.stopPropagation(),t.showVoice(e)}}},[n("div",{staticClass:"voice-progress-wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.song.voiceProgress,expression:"song.voiceProgress"}],ref:"voiceRange",staticClass:"voice-progress",style:{backgroundSize:t.song.voiceProgress+"% 100%"},attrs:{type:"range"},domProps:{value:t.song.voiceProgress},on:{change:function(e){e.stopPropagation(),t.changeVoiceProgress(e)},click:function(e){e.stopPropagation(),t.stopPro(e)},__r:function(e){t.song.voiceProgress=e.target.value}}})])]),t._v(" "),n("span",{staticClass:"voice-num"},[t._v(t._s(t.song.voiceProgress))])])])])])},staticRenderFns:[]}},95:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("keep-alive",[n("router-view")],1)],1)},staticRenderFns:[]}},96:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tip-wrapper"},[n("h1",[t._v(t._s("1"===t.type?"请用电脑访问":"您的浏览器版本过低，请升级您的浏览器"))]),t._v(" "),n("a",{staticClass:"btn",on:{click:t.refresh}},[t._v("刷新本页")])])},staticRenderFns:[]}}},[51]);
//# sourceMappingURL=app.b6ec983bf4b3c6f0015c.js.map